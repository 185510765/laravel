/*!
 *  build: vue-admin-beautiful 
 *  vue-admin-beautiful author: chuzhixin 1204505056@qq.com 
 *  vue-admin-beautiful QQ Group(QQ群): 972435319、1139183756 
 *  time: 2022-8-24 15:12:47
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c5575f9e"],{"157b":function(e,n,r){"use strict";r("39e3")},"39e3":function(e,n,r){},7499:function(e,n,r){"use strict";r("9f5a")},"9ed6":function(e,n,r){"use strict";r.r(n);var t=function(){var e=this,n=e.$createElement,r=e._self._c||n;return r("div",{staticClass:"login-container"},[r("el-row",[r("el-col",{attrs:{xs:24,sm:24,md:12,lg:16,xl:16}},[r("div",{staticStyle:{color:"transparent"}},[e._v("占位符")])]),r("el-col",{attrs:{xs:24,sm:24,md:12,lg:8,xl:8}},[r("el-form",{ref:"form",staticClass:"login-form",attrs:{model:e.form,rules:e.rules,"label-position":"left"}},[r("div",{staticClass:"title"},[e._v("hello !")]),r("div",{staticClass:"title-tips"},[e._v("欢迎来到"+e._s(e.title)+"！")]),r("el-form-item",{staticStyle:{"margin-top":"40px"},attrs:{prop:"username"}},[r("span",{staticClass:"svg-container svg-container-admin"},[r("vab-icon",{attrs:{icon:["fas","user"]}})],1),r("el-input",{directives:[{name:"focus",rawName:"v-focus"}],attrs:{placeholder:"请输入用户名",tabindex:"1",type:"text"},model:{value:e.form.username,callback:function(n){e.$set(e.form,"username","string"===typeof n?n.trim():n)},expression:"form.username"}})],1),r("el-form-item",{attrs:{prop:"password"}},[r("span",{staticClass:"svg-container"},[r("vab-icon",{attrs:{icon:["fas","lock"]}})],1),r("el-input",{key:e.passwordType,ref:"password",attrs:{type:e.passwordType,tabindex:"2",placeholder:"请输入密码"},model:{value:e.form.password,callback:function(n){e.$set(e.form,"password","string"===typeof n?n.trim():n)},expression:"form.password"}}),"password"===e.passwordType?r("span",{staticClass:"show-password",on:{click:e.handlePassword}},[r("vab-icon",{attrs:{icon:["fas","eye-slash"]}})],1):r("span",{staticClass:"show-password",on:{click:e.handlePassword}},[r("vab-icon",{attrs:{icon:["fas","eye"]}})],1)],1),r("el-form-item",{attrs:{prop:"code"}},[r("el-input",{staticClass:"code",attrs:{placeholder:"验证码","prefix-icon":"iconfont icon-yanzhengma1"},nativeOn:{keyup:function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"enter",13,n.key,"Enter")?null:e.handleLogin.apply(null,arguments)}},model:{value:e.form.code,callback:function(n){e.$set(e.form,"code",n)},expression:"form.code"}}),r("img",{staticClass:"verifyimg",attrs:{src:e.captcha,alt:"验证码",title:"点击刷新"},on:{click:function(n){return e.getCaptcha()}}})],1),r("el-button",{staticClass:"login-btn",attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"enter",13,n.key,"Enter")?null:e.handleLogin.apply(null,arguments)}}},[e._v(" 登录 ")])],1)],1)],1)],1)},o=[],i=(r("d3b7"),r("5cc6"),r("9a8c"),r("a975"),r("735e"),r("c1ac"),r("d139"),r("3a7b"),r("d5d6"),r("82f8"),r("e91f"),r("60bd"),r("5f96"),r("3280"),r("3fcc"),r("ca91"),r("25a1"),r("cd26"),r("3c5d"),r("2954"),r("649e"),r("219c"),r("170b"),r("b39a"),r("72f7"),r("61f7"),r("b39c")),c=r("bc3a"),s=r.n(c),a=r("f121"),u={name:"Login",directives:{focus:{inserted:function(e){e.querySelector("input").focus()}}},data:function(){return{nodeEnv:"production",title:this.$baseTitle,form:{username:"",password:"",code:"",uuid:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{validator:i["checkUserName"],trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{validator:i["checkPwd"],trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"},{validator:i["checkCodeLength"],trigger:"blur"}]},captcha:"",loading:!1,passwordType:"password",redirect:void 0}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect||"/"},immediate:!0}},created:function(){document.body.style.overflow="hidden"},beforeDestroy:function(){document.body.style.overflow="auto"},mounted:function(){this.getCaptcha()},methods:{handlePassword:function(){var e=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){e.$refs.password.focus()}))},getCaptcha:function(){var e=this;s.a.get(a["baseURL"]+"/manager/SysUser/getCaptcha",{responseType:"arraybuffer"}).then((function(n){return e.form.uuid=n.headers.uuid,"data:image/jpeg;base64,"+btoa(new Uint8Array(n.data).reduce((function(e,n){return e+String.fromCharCode(n)}),""))})).then((function(n){e.captcha=n})).catch((function(e){console.error(e)}))},handleLogin:function(){var e=this;this.$refs.form.validate((function(n){if(!n)return!1;e.loading=!0,e.$store.dispatch("user/login",e.form).then((function(){var n="/404"===e.redirect||"/401"===e.redirect?"/":e.redirect;e.$router.push(n).catch((function(){})),e.loading=!1})).catch((function(){e.loading=!1,e.getCaptcha()}))}))}}},d=u,f=(r("7499"),r("157b"),r("2877")),l=Object(f["a"])(d,t,o,!1,null,"c2aa75b0",null);n["default"]=l.exports},"9f5a":function(e,n,r){},b39c:function(e,n,r){"use strict";r.r(n),r.d(n,"checkUserName",(function(){return o})),r.d(n,"checkPwd",(function(){return i})),r.d(n,"checkCodeLength",(function(){return c})),r.d(n,"checkSex",(function(){return s})),r.d(n,"checkPhoneCode",(function(){return a})),r.d(n,"checkPhone",(function(){return u})),r.d(n,"checkName",(function(){return d})),r.d(n,"checkEmail",(function(){return f})),r.d(n,"checkMoney",(function(){return l})),r.d(n,"checkNumber",(function(){return p})),r.d(n,"checkNum",(function(){return h})),r.d(n,"checkDiscount",(function(){return m})),r.d(n,"checkEmptyObj",(function(){return w})),r.d(n,"checkHasTrueObj",(function(){return g})),r.d(n,"checkKD",(function(){return b})),r.d(n,"checkProbability",(function(){return y})),r.d(n,"checkJson",(function(){return k}));var t=r("61f7");function o(e,n,r){t["isUserName"](n)?r():r(new Error("用户名只支持5-50位数字字母下划线"))}function i(e,n,r){t["isPassword"](n)?r():r(new Error("密码长度需大于6位"))}function c(e,n,r){t["isCode"](n)?r():r(new Error("请输入4位数的验证码"))}function s(e,n,r){t["isNumber"](n)?r():r(new Error("性别只能是数字"))}function a(e,n,r){t["isPhoneCode"](n)?r():r(new Error("请输入6位数的手机验证码"))}function u(e,n,r){t["isPhone"](n)?r():r(new Error("请输入正确的手机号"))}function d(e,n,r){t["isChina"](n)?r():r(new Error("请输入正确的中文名"))}function f(e,n,r){t["isEmail"](n)?r():r(new Error("请输入正确的邮箱"))}function l(e,n,r){t["isMoney"](n)?r():r(new Error("请输入正确的金额"))}function p(e,n,r){t["isNumber"](n)?r():r(new Error("请输入正确的数字"))}function h(e,n,r){t["isNum"](n)?r():r(new Error("请输入正整数"))}function m(e,n,r){t["isDiscount"](n)?r():r(new Error("请输入有效的折扣"))}function w(e,n,r){t["isEmptyObj"](n)?r():r(new Error("至少选择一种"))}function g(e,n,r){t["isHasTrueObj"](n)?r():r(new Error("至少选择一种"))}function b(e,n,r){t["isMoney"](n)?r():r(new Error("请输入有效的KD"))}function y(e,n,r){t["isIntRangeOneThousand"](n)?r():r(new Error("中奖概率请填写1~1000整数"))}function k(e,n,r){t["isJSON"](n)?r():r(new Error("数据无效"))}}}]);